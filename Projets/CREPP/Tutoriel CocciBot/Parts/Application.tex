\chapter{Création de l'interface}
\section{Préparation}

Maintenant que nous nous sommes assurés que la communication s'effectuera, il est temps de faire l'application et de préparer notre outil (enfin, me direz-vous!) \\

\noindent
Tout d'abord, saisissez dans un moteur de recherche l'adresse suivante : 
\url{http://appinventor.mit.edu/} (Site \bold{App Inventor 2}» ) \\

Une page comme ceci devrait apparaître :

\img{Images/portail.png}{Le portail App Inventor}{0.3}

Ensuite, cliquez en haut à gauche sur :  \newtcbox{\varbox}{colframe=orange!50!black,colback=orange!80} \varbox{\color{white}Create App}
Cela devrait vous diriger vers ceci : \\

\img{Images/account.png}{La fenêtre de connexion}{0.3}

Puis connectez vous avec votre compte Google (ou Gmail). Si vous n'en avez pas, sa création est rapide… (create account). \\
Vous tombez ensuite sur une interface similaire : 

\img{Images/begin.png}{La fenêtre des applications}{0.3}

\noindent
Pour démarrer votre projet, cliquez sur « \bold{Start new project} » (onglet « \bold{Projects} »)et là, cette page apparaît : 
\img{Images/screen1.png}{La fenêtre de notre application}{0.3}
\noindent 
Avant toute chose, réglez la langue du site en français. Pour cela, sélectionnez l'onglet \bold{English} et choisissez « \bold{français} ».\\

\img{Images/langue.png}{Le choix de la langue}{0.7}

\section{Sauvegarde du projet}

Avant toute chose, voici une étape non négligeable : la sauvegarde du projet

\begin{messageBox}{Remarque importante}{red}{white}{L'application App Inventor étant en ligne, un problème de réseau peut ruiner votre projet en cas de mauvaise sauvegarde. Il convient de sauvegarder \bold{régulièrement} votre travail}{white}
\end{messageBox}

Il faut se reporter au menu du haut et aller dans \bold{Projets} puis \bold{Enregistrer le projet}

\img{Images/save.png}{Sauvegarde du projet}{0.7}


Quant à l'interface, un petit tour d'horizon s'impose.

\section{Présentation des éléments graphiques}
\img{Images/layout.png}{Les outils de App Inventor}{0.45}

Par convention, dans ce tutoriel :

\begin{itemize}
    \item la partie {\color{orange} orange} sera la partie menu
    \item la partie {\color{blue} bleue}  sera l'interface
    \item la partie {\color{gray} grise}  sera la partie composants
    \item la partie {\color{green} verte}  sera la partie propriétés
    \item la partie {\color{red} rouge}  garde son nom : blocks
    \item la partie {\color{magenta} magenta} est la partie "graphique" (regroupement des quatre premières parties
\end{itemize}

Maintenant, prenons un {\color{orange}sélectionneur de liste} dans le menu, et faisons le {\color{blue}glisser sur l'interface}. 
Pour cela, maintenez enfoncé le« \bold{sélectionneur de liste} » dans le menu et faites le glisser sur l'écran virtuel. Relâchez ensuite la souris. On obtient :


\img{Images/render1.png}{Rendu de l'{\color{blue}interface}}{0.5}
\img{Images/render_2.png}{Rendu des {\color{gray}composants}}{0.7}
Veuillez cliquer sur \bold{Sélecteur\_de\_list1}
\img{Images/render_3.png}{Rendu des {\color{green}propriétés}}{0.5}


\subsection{Principaux élements} \label{menu}

Maintenant, on peut voir que le menu offre plusieurs choix d'objets. Voici les plus importants :

\begin{minipage}{.6\textwidth}%

Il vous est notamment possible de \\faire les actions suivantes :

\begin{itemize}
    \item Créer un bouton
    \item Créer une case à cocher
    \item Sélectionner une date
    \item Afficher une image
    \item Afficher du texte
    \item Créer une liste de selection
    \item Créer une liste classique
    \item Envoyer une notification
    \item Afficher un curseur
    \item Créer une zone de saisie de texte \\(mot de passe...)
    \item Sélectionner l'heure
\end{itemize}

\end{minipage}%
\hfill
\begin{minipage}{.35\textwidth}%
\img{Images/menu.png}{La liste des composants}{0.6}
\end{minipage}%

\section{Présentation des propriétés}

Nous allons présenter les propriétés principales des composants mis à notre disposition. \\
\noindent
Tout d'abord, gardez le {\color{orange}sélectionneur de liste} sur l'{\color{blue}écran}.
Ensuite, pour centrer la liste, allez dans le menu {\color{gray}composants}, sélectionnez  \bold{screen 1}.
\img{Images/select_screen.png}{Sélection de l'écran}{0.6}

Dans l'onglet {\color{green}propriété} → alignement horizontal, sélectionner la liste sur \bold{centrer}. 
\img{Images/center_screen.png}{Centrage de l'écran}{0.6}


Vous pouvez également changer la forme du bouton. \\
Allez dans {\color{gray}Composants} → sélectionneur de liste et dans {\color{green}Propriétés}, trouvez l'onglet \bold{forme} 
et sélectionnez celle voulue.    

\img{Images/shape.png}{Forme du bouton}{0.6}


\begin{minipage}{.6\textwidth}%

Voici quelques paramètres de mise en forme : 

\begin{itemize}
    \item Vous pouvez modifier la couleur de la liste en sélectionnant \bold{Couleur de fond}
    \item Pour modifier la taille de la liste, il suffit de 			rentrer la taille en pixels ou en \% de l'écran (\bold{Hauteur, Largeur}) \\	Il vaut mieux préciser en \% afin que l'application soit compatible au niveau du format sur tous les appareils.
\end{itemize}

\end{minipage}%
\hfill
\begin{minipage}{.35\textwidth}%
\img{Images/properties.png}{La liste des propriétés}{0.6}
\end{minipage}%
\newline \newline 

Enfin, pour décider du titre de la liste sur l'application, sélectionner la liste \bold{Selectionneur\_de\_liste1} et dans ses {\color{green}propriétés}, modifier l'onglet \bold{texte} et écrivez, par exemple « \bold{Connexion} »

\img{Images/rename.png}{Choisir le nom par défaut du bouton \bold{Connexion}}{0.6}

\section{Renommer les élements}


\begin{minipage}{.6\textwidth}%

Dans un souci de clarté, il convient de \\ renommer les éléments que nous \\ plaçons sur l'écran. \\

Pour renommer le sélectionneur de liste,\\ il faut allez dans les {\color{gray}composants} de \\l'interface,  et sélectionnez  « Renommer » \\
Je l'ai renommé en « connexion ».

\end{minipage}%
\hfill
\begin{minipage}{.35\textwidth}%
\img{Images/rename_screen.png}{Renommer un élement}{0.6}
\end{minipage}%


\begin{messageBox}{Astuce}{green}{white}{Pour changer la couleur d'arrière-plan de l'application, allez dans composants → screen1 et dans propriétés, sélectionnez couleur de fond}{white}
\end{messageBox}

\section{Ajouter un client Bluetooth} \label{bluetooth_install}

Par la suite, nous allons utiliser le client Bluetooth d'App Inventor. \\
Pour le trouver, il suffit d'explorer le {\color{orange}menu latéral}. Un ensemble d'éléments est disponible à la suite des principaux élements énumérés dans la section \ref{menu}.

\img{Images/add.png}{Menu latéral}{0.6}

Le client Bluetooth se situe dans la section \bold{Connectivité}

\img{Images/connectivite.png}{Ajouter un client Bluetooth}{0.6}
Pour l'ajouter à noter application, il suffit de glisser le client Bluetooth sur l'{\color{blue}interface}.
A ce moment là, sous l'écran virtuel, le client Bluetooth apparaît.

\img{Images/non-visible.png}{Présence du client Bluetooth}{0.6}

Et voila, le client Bluetooth est mis en place.

\section{Premier rendu et agencement des élements}

En faisant toutes ces étapes, on obtient : 

\img{Images/first_render.png}{Premier rendu de l'application}{0.4}

En ajoutant un bouton (glisser-déposer un bouton disponible dans le menu latéral) et en modifiant ses propriétés (forme, couleur...), on obtient ceci : 

\img{Images/second_render.png}{Rendu avec un bouton "Avancer"}{0.4}

\subsection{Générer un espace entre deux élements}

On souhaite maintenant espacer le bouton "Connexion" et le bouton "Avancer" \\

Rien de plus simple ! Il suffit de placer un élément \bold{label}
(outil dans menu) entre les deux boutons puis de
choisir ses dimensions, ce qui correspondra à l'espacement des boutons. \\
\img{Images/label.png}{Emplacement du label}{0.8}

Pour que le label ne soit pas visible, il suffira de mettre son texte vide.

\img{Images/label_content.png}{Texte du label}{0.8}

Et voilà le résultat : 

\img{Images/label_space.png}{Espace entre deux élements}{0.2}


\section{Alignement des élements}

Maintenant, ce serait bien de pouvoir aligner des boutons (ou autre)
horizontalement afin d'obtenir quelque  chose comme ceci :

\img{Images/align_button.png}{Alignement d'éléments}{0.4}

Ne vous inquiétez pas, le cadre noir n’apparaîtra pas sur l'application ; c'est juste un moyen de distinguer les alignements. \\

Pour faire ceci, allez dans le {\color{orange} menu} et sélectionnez l'onglet \bold{Disposition}

\img{Images/disposition.png}{Emplacement des éléments d'agencement}{0.4}

Une fenêtre comme ceci apparaît :

\img{Images/disposition_layout.png}{Éléments d'agencement}{0.5}

Ensuite, faites glisser l'outil \bold{Arrangement Horizontal}
sous la liste « \bold{Connexion} » et vous devriez avoir ceci :

\img{Images/add_layout.png}{Éléments d'agencement placé}{0.5}

Vous pouvez dorénavant faire glisser des boutons dans ce carré et ils se mettront automatiquement côte à côte. Il suffit de régler la taille des boutons sélectionnés dans {\color{green}propriétés}.


\begin{messageBox}{Astuce}{green}{white}{

Il est possible de changer les dimensions de l'outil \bold{Arrangement Horizontal}
\img{Images/ha_layout.png}{Propriétés de l'objet \bold{Arrangement Horizontal}}{0.5}
}{white}
\end{messageBox}


En revanche, il y a un fond blanc pour l'objet 
\bold{Arrangement Horizontal }:

\img{Images/next_layout.png}{Couleur d'arrière-plan de l'outil \bold{Arrangement Horizontal}}{0.7}

En allant dans les {\color{green}propriétés} de l'objet \bold{Arrangement Horizontal}, mettez la couleur d'arrière-plan en « \bold{aucun} »

\img{Images/background_color.png}{Couleur d'arrière-plan transparent}{0.7}

\section{Mise en place de l'ensemble des boutons}

Après avoir mis les boutons "\bold{Droite}", "\bold{Stop}", "\bold{Gauche}", "\bold{Reculer}", "\bold{Batterie}" et "\bold{Auto}" et mis un peu de couleur, vous pouvez obtenir une interface de ce type :

\img{Images/render.png}{Rendu de l'application}{0.7}

\begin{messageBox}{Remarque importante}{red}{white}{
Par la suite, veuillez mettre l'arrière-plan de « connexion » en rouge (non représenté ici) 
}{white}
\end{messageBox}




